.ascii-cube-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
}

.ascii-cube-frame {
  position: relative;
  z-index: 2;
  padding: 1.5rem 2rem;
  border: 1px solid color-mix(in srgb, var(--color-accent) 30%, transparent);
  background: color-mix(in srgb, var(--color-text) 3%, transparent);
}

.ascii-cube {
  font-family: var(--font-mono);
  font-size: clamp(0.32rem, 0.85vw, 0.6rem);
  line-height: 1.0;
  color: var(--color-accent);
  white-space: pre;
  user-select: none;
  text-shadow:
    0 0 5px color-mix(in srgb, var(--color-accent) 80%, transparent),
    0 0 10px color-mix(in srgb, var(--color-accent) 50%, transparent),
    0 0 20px color-mix(in srgb, var(--color-accent) 30%, transparent);
}

/* Main layer */
.ascii-cube--main {
  position: relative;
  z-index: 3;
}

/* RGB Split - Red channel */
.ascii-cube--red {
  position: absolute;
  top: 0;
  left: 0;
  color: #ff0040;
  text-shadow: none;
  opacity: 0.8;
  z-index: 1;
  animation: glitchRed 0.3s steps(2) infinite;
  mix-blend-mode: screen;
}

/* RGB Split - Blue channel */
.ascii-cube--blue {
  position: absolute;
  top: 0;
  left: 0;
  color: #00ffff;
  text-shadow: none;
  opacity: 0.8;
  z-index: 2;
  animation: glitchBlue 0.3s steps(2) infinite;
  mix-blend-mode: screen;
}

@keyframes glitchRed {
  0%, 100% { transform: translate(-4px, 0); }
  25% { transform: translate(-6px, 2px); }
  50% { transform: translate(-3px, -1px); }
  75% { transform: translate(-5px, 1px); }
}

@keyframes glitchBlue {
  0%, 100% { transform: translate(4px, 0); }
  25% { transform: translate(6px, -2px); }
  50% { transform: translate(3px, 1px); }
  75% { transform: translate(5px, -1px); }
}

/* Medium glitch - subtle shake */
.ascii-cube--glitch-medium {
  animation: glitchMedium 0.1s steps(2) infinite;
}

@keyframes glitchMedium {
  0%, 100% { transform: translate(0); }
  25% { transform: translate(-2px, 1px); }
  50% { transform: translate(2px, -1px); }
  75% { transform: translate(-1px, -1px); }
}

/* Intense glitch - heavy distortion */
.ascii-cube--glitch-intense {
  animation: glitchIntense 0.08s steps(3) infinite;
}

@keyframes glitchIntense {
  0% {
    transform: translate(0) skewX(0deg);
    clip-path: inset(0 0 0 0);
  }
  10% {
    transform: translate(-8px, 3px) skewX(-5deg);
    clip-path: inset(10% 0 80% 0);
  }
  20% {
    transform: translate(8px, -3px) skewX(5deg);
    clip-path: inset(30% 0 50% 0);
  }
  30% {
    transform: translate(-5px, -2px) skewX(-3deg);
    clip-path: inset(50% 0 30% 0);
  }
  40% {
    transform: translate(5px, 2px) skewX(3deg);
    clip-path: inset(70% 0 10% 0);
  }
  50% {
    transform: translate(-10px, 0) skewX(-8deg);
    clip-path: inset(5% 0 5% 0);
  }
  60% {
    transform: translate(10px, 0) skewX(8deg);
    clip-path: inset(20% 0 60% 0);
  }
  70% {
    transform: translate(-3px, 4px) skewX(-2deg);
    clip-path: inset(40% 0 40% 0);
  }
  80% {
    transform: translate(3px, -4px) skewX(2deg);
    clip-path: inset(60% 0 20% 0);
  }
  90% {
    transform: translate(-6px, 1px) skewX(-4deg);
    clip-path: inset(80% 0 5% 0);
  }
  100% {
    transform: translate(0) skewX(0deg);
    clip-path: inset(0 0 0 0);
  }
}

/* White flash on intense glitch */
.ascii-cube-flash {
  position: absolute;
  inset: -10%;
  background: rgba(255, 255, 255, 0.15);
  z-index: 10;
  pointer-events: none;
  animation: flash 0.1s ease-out;
}

@keyframes flash {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

/* Glow effect */
.ascii-cube-glow {
  position: absolute;
  inset: -25%;
  background: radial-gradient(
    ellipse at center,
    color-mix(in srgb, var(--color-accent) 25%, transparent) 0%,
    color-mix(in srgb, var(--color-accent) 10%, transparent) 35%,
    transparent 65%
  );
  filter: blur(35px);
  z-index: 1;
  pointer-events: none;
  animation: glowPulse 3s ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.08); }
}

/* Scanlines */
.ascii-cube-scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
  pointer-events: none;
  z-index: 5;
}

/* Responsive */
/* Desktop pequeño */
@media (max-width: 1200px) {
  .ascii-cube {
    font-size: clamp(0.28rem, 0.75vw, 0.5rem);
  }

  .ascii-cube-frame {
    padding: 1.25rem 1.5rem;
  }
}

/* Tablet */
@media (max-width: 1024px) {
  .ascii-cube-container {
    padding: 0.5rem;
  }

  .ascii-cube {
    font-size: clamp(0.25rem, 0.65vw, 0.45rem);
  }

  .ascii-cube-frame {
    padding: 1rem 1.25rem;
  }

  .ascii-cube-glow {
    inset: -20%;
    filter: blur(30px);
  }
}

/* Mobile */
@media (max-width: 768px) {
  .ascii-cube-container {
    padding: 0.375rem;
  }

  .ascii-cube {
    font-size: clamp(0.2rem, 0.55vw, 0.35rem);
  }

  .ascii-cube-frame {
    padding: 0.75rem 1rem;
  }

  .ascii-cube-glow {
    inset: -15%;
    filter: blur(25px);
  }
}

/* Mobile pequeño */
@media (max-width: 480px) {
  .ascii-cube-container {
    padding: 0.25rem;
  }

  .ascii-cube {
    font-size: clamp(0.18rem, 0.6vw, 0.3rem);
  }

  .ascii-cube-frame {
    padding: 0.5rem 0.75rem;
  }

  .ascii-cube-glow {
    inset: -10%;
    filter: blur(20px);
  }

  .ascii-cube-scanlines {
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      rgba(0, 0, 0, 0.02) 1px,
      rgba(0, 0, 0, 0.02) 2px
    );
  }
}
